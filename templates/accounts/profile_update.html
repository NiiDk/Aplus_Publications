{% extends 'base.html' %}

{% block title %}Update Academic Profile | APLUS PUBLICATIONS{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-12 max-w-4xl">
    <div class="mb-10 border-b border-brandSkyBlue pb-6">
        <h1 class="text-3xl font-bold tracking-tight text-brandDeepBlue italic uppercase tracking-tighter">Academic Profile</h1>
        <p class="text-slate-500 text-[10px] uppercase tracking-[0.2em] mt-1 font-bold italic">Manage Your Institutional Credentials</p>
    </div>

    <form method="post" enctype="multipart/form-data" class="grid grid-cols-1 md:grid-cols-12 gap-12">
        {% csrf_token %}
        
        <!-- Avatar Column -->
        <div class="md:col-span-4 text-center">
            <div class="relative inline-block group">
                <div class="w-48 h-48 rounded-full overflow-hidden border-4 border-white shadow-2xl bg-slate-100 mb-6">
                    {% if profile.profile_picture %}
                        <img src="{{ profile.profile_picture.url }}" alt="{{ user.get_full_name }}" class="w-full h-full object-cover">
                    {% else %}
                        <div class="w-full h-full flex items-center justify-center text-slate-300">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-24 w-24" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                            </svg>
                        </div>
                    {% endif %}
                </div>
                <label class="block cursor-pointer bg-brandDeepBlue text-white text-[9px] font-black uppercase tracking-widest py-2 rounded-sm hover:bg-brandSkyBlue transition-colors shadow-lg">
                    Upload Avatar
                    <input type="file" name="profile_picture" class="hidden" accept="image/*">
                </label>
            </div>
            <p class="text-[9px] text-slate-400 mt-4 italic uppercase tracking-tighter">Accepted formats: JPG, PNG â€¢ Max 2MB</p>
        </div>

        <!-- Details Column -->
        <div class="md:col-span-8 space-y-8 bg-white border border-slate-100 p-8 rounded-sm shadow-sm academic-border border-brandSkyBlue">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="block text-[9px] font-black uppercase text-slate-400 mb-2 tracking-[0.2em]">First Name</label>
                    <input type="text" name="first_name" value="{{ user.first_name }}" class="w-full border border-slate-100 rounded-sm px-4 py-3 text-sm focus:outline-none focus:border-brandSkyBlue transition bg-slate-50 italic">
                </div>
                <div>
                    <label class="block text-[9px] font-black uppercase text-slate-400 mb-2 tracking-[0.2em]">Last Name</label>
                    <input type="text" name="last_name" value="{{ user.last_name }}" class="w-full border border-slate-100 rounded-sm px-4 py-3 text-sm focus:outline-none focus:border-brandSkyBlue transition bg-slate-50 italic">
                </div>
            </div>

            <div>
                <label class="block text-[9px] font-black uppercase text-slate-400 mb-2 tracking-[0.2em]">Academic Institution</label>
                {{ form.institution }}
            </div>

            <div>
                <label class="block text-[9px] font-black uppercase text-slate-400 mb-2 tracking-[0.2em]">Primary Contact Number</label>
                {{ form.phone_number }}
            </div>

            <div>
                <label class="block text-[9px] font-black uppercase text-slate-400 mb-2 tracking-[0.2em]">Academic Biography</label>
                {{ form.bio }}
            </div>

            <div class="pt-4">
                <button type="submit" class="w-full bg-brandDeepBlue text-white py-4 rounded-sm text-[10px] font-black uppercase tracking-[0.2em] hover:bg-brandSkyBlue transition-all shadow-lg">
                    Update Master Profile
                </button>
            </div>
        </div>
    </form>
</div>

<style>
    input[type="text"], input[type="tel"], textarea {
        width: 100%;
        border: 1px solid #f1f5f9;
        border-radius: 0.125rem;
        padding: 0.75rem 1rem;
        font-size: 0.875rem;
        background-color: #f8fafc;
        font-style: italic;
        transition: all 0.2s;
    }
    input:focus, textarea:focus {
        outline: none;
        border-color: #00AEEF;
        box-shadow: 0 0 0 1px #00AEEF;
        background-color: #ffffff;
    }
</style>
{% endblock %}
